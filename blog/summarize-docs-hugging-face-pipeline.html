<!DOCTYPE html>
<html lang="en">
<head>
	<title>Summarize Docs: Hugging Face Pipeline Integration</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Summarize Docs: Hugging Face Pipeline Integration...">
    <link rel="canonical" href="https://catatansoal.github.io/blog/summarize-docs-hugging-face-pipeline">
	<meta property="og:type" content="article">
	<meta property="og:title" content="Summarize Docs: Hugging Face Pipeline Integration">
	<meta property="og:description" content="Summarize Docs: Hugging Face Pipeline Integration...">
	<meta property="og:url" content="https://catatansoal.github.io/blog/summarize-docs-hugging-face-pipeline">
	<meta property="og:site_name" content="Question Notes">
	<meta property="article:published_time" content="2025-08-02T16:26:53+00:00">
	<meta property="article:author" content="ADMIN">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preload" as="script" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js">
    <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css">
    <link rel="preload" fetchpriority="high" as="image" href="https://tse4.mm.bing.net/th?q=Issue%203%3A%20Adding%20Hugging%20Face%20Summarization%20Pipeline">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <style type="text/css">
    	:root{--primary-color:#3740ff;--text-color:#202124;--background-color:#ffffff;--gray-100:#f8f9fa;--gray-200:#e9ecef}*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;line-height:1.6;color:var(--text-color);background-color:var(--background-color)}.container{max-width:1200px;margin:0 auto;padding:0 1.5rem}.header{background-color:var(--background-color);border-bottom:1px solid var(--gray-200);position:sticky;top:0;z-index:100}.nav{padding:.5rem 0}.nav-container{display:flex;justify-content:space-between;align-items:center;gap:1rem}.nav-left{display:flex;align-items:center;flex-shrink:0}.logo{font-weight:700;color:var(--primary-color)}.blog-tag{margin-left:1rem;padding:.25rem .5rem;background-color:var(--gray-100);border-radius:4px;font-size:.875rem}.nav-search{flex-grow:1;max-width:300px}.search-form{position:relative;width:100%}.search-input{width:100%;padding:.5rem 2.5rem .5rem 1rem;border:1px solid var(--gray-200);border-radius:24px;font-size:.875rem;transition:all 0.2s}.search-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 2px rgb(55 64 255 / .1)}.search-button{position:absolute;right:.5rem;top:50%;transform:translateY(-50%);background:none;border:none;color:#5f6368;cursor:pointer;padding:.25rem;display:flex;align-items:center;justify-content:center}.search-button:hover{color:var(--primary-color)}.nav-toggle{display:none;background:none;border:none;cursor:pointer;padding:.5rem}.hamburger{display:block;position:relative;width:24px;height:2px;background:var(--text-color);transition:all 0.3s}.hamburger::before,.hamburger::after{content:'';position:absolute;width:24px;height:2px;background:var(--text-color);transition:all 0.3s}.hamburger::before{top:-6px}.hamburger::after{bottom:-6px}.nav-toggle-active .hamburger{background:#fff0}.nav-toggle-active .hamburger::before{transform:rotate(45deg);top:0}.nav-toggle-active .hamburger::after{transform:rotate(-45deg);bottom:0}.nav-list{display:flex;list-style:none;gap:2rem}.nav-link{color:var(--text-color);text-decoration:none;font-size:.9rem;transition:color 0.2s}.nav-link:hover{color:var(--primary-color)}.article-header{padding:2rem 0;background-color:var(--gray-100)}.article-layout{display:grid;grid-template-columns:1fr 350px;gap:3rem;padding:1rem 0;align-items: start}h1,h2,h3,h4,h5,h6{font-family:"Crimson Text","Times New Roman",Times,serif}h1{font-size:2.5rem;line-height:1.2;margin-bottom:1rem}.meta{color:#5f6368;font-size:.875rem;display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.view-count{display:inline-flex;align-items:center;gap:.25rem}.view-count svg{color:#5f6368}.content{min-width:0;border-bottom:1px solid #dddddd5e;margin-top:1rem;white-space:pre-line !important;overflow-wrap:break-word;overflow-x:auto;word-break:break-word}.lead{font-size:1.25rem;color:#5f6368;margin-bottom:2rem}h2,h3,h4,h5,h6{font-size:1.75rem;margin:1rem 0 1rem}p,pre,ol,ul>li{margin-bottom:1rem;font-family:"Newsreader",serif;font-optical-sizing:auto;font-style:normal;font-size:1.3rem;text-align: justify;}p>code{font-size:1rem;font-weight:700;padding:.1rem .3rem .1rem .3rem;background:#0000000f;color:#000;border-radius:5px}hr{margin:1rem 0 1rem 0}.code-example{background-color:var(--gray-100);padding:1.5rem;border-radius:8px;margin:1.5rem 0;overflow-x:auto}code{font-family:'Roboto Mono',monospace;font-size:.875rem}ul{margin:.2rem 0;padding-left:1.5rem}.related-posts{background-color:var(--gray-100);padding:1.5rem;border-radius:8px;position:sticky;top:5rem}.related-posts-title,.newpost-posts-list{font-size:1.75rem;margin:0 0 1rem}.related-posts-list{display:flex;flex-direction:column;gap:.5rem}.related-post,.newpost-post{border-bottom:1px solid #ddd;padding-bottom:10px;margin-bottom:10px}.related-post:last-child,.newpost-post:last-child{padding-bottom:0;border-bottom:none}.related-post-title,.newpost-post-title{font-size:1.2rem;margin:0 0 .1rem;font-family:"Newsreader",serif;font-optical-sizing:auto;font-style:normal;display: -webkit-box;-webkit-line-clamp: 3;-webkit-box-orient: vertical;overflow: hidden;}.related-post-title a,.newpost-post-title a{color:var(--text-color);text-decoration:none;transition:color 0.2s}.related-post-title a:hover,.newpost-post-title a:hover{color:var(--primary-color)}.related-post time{font-size:.875rem;color:#5f6368}.footer{background-color:var(--gray-100);padding:2rem 0;margin-top:4rem;color:#5f6368;font-size:.875rem}.nav-menu>ul>li{margin-bottom:0}@media (max-width:1024px){.container{max-width:800px}.article-layout{grid-template-columns:1fr;gap:2rem}.related-posts{position:static}}@media (max-width:768px){.nav-container{flex-wrap:wrap}.nav-search{order:3;max-width:none;width:100%;margin-top:.1rem}.nav-toggle{display:block}.nav-menu{display:none;position:absolute;top:100%;left:0;right:0;background:var(--background-color);padding:1rem 0;border-bottom:1px solid var(--gray-200)}.nav-menu-active{display:block}.nav-list{flex-direction:column;gap:.1rem;padding:0 1.5rem}.nav-link{display:block;padding:.2rem 0}h1{font-size:2rem}.article-header{padding:2rem 0}.content{padding:.1rem 0}}table{width:100%;border-collapse:collapse;margin:20px 0;font-family:'Arial',sans-serif}th,td{padding:12px 15px;text-align:left;border:1px solid #ddd}th{background-color:#0F7F0B;color:#FFF}td{background-color:#f9f9f9}tr:nth-child(even) td{background-color:#f2f2f2}@media screen and (max-width:768px){table{border:0;display:block;overflow-x:auto;white-space:nowrap}th,td{padding:10px;text-align:right}th{background-color:#0F7F0B;color:#FFF}td{background-color:#f9f9f9;border-bottom:1px solid #ddd}tr:nth-child(even) td{background-color:#f2f2f2}}a{text-decoration:none;color:#540707}.katex-html{padding: .2rem;color: #000;font-weight: 700;font-size: 1.3rem;overflow-wrap: break-word;max-width: 100%;white-space: normal !important}.category{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap;margin:1rem 0 1rem 0}.tag{font-size:1rem;font-weight:700;padding:.1rem .3rem .1rem .3rem;background:#0000000f;color:#000;border-radius:5px;font-family:"Newsreader",serif}.tag>a{text-decoration:none;color:#000}img{margin:auto;display:block;max-width:100%;height:auto;margin-bottom:1rem}.katex{white-space: pre-line !important;display: inline-block;max-width: 100%;overflow-x: auto;overflow-y: hidden;scrollbar-width: thin;overflow-wrap: break-word;word-break: break-word;vertical-align: -7px}.content > p {overflow-wrap: break-word;word-break: break-word}
    </style>
    <style type="text/css">
    	pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}
		.hljs{color:#c9d1d9;background:#0d1117}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#ff7b72}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#d2a8ff}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#79c0ff}.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#a5d6ff}.hljs-built_in,.hljs-symbol{color:#ffa657}.hljs-code,.hljs-comment,.hljs-formula{color:#8b949e}.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#7ee787}.hljs-subst{color:#c9d1d9}.hljs-section{color:#1f6feb;font-weight:700}.hljs-bullet{color:#f2cc60}.hljs-emphasis{color:#c9d1d9;font-style:italic}.hljs-strong{color:#c9d1d9;font-weight:700}.hljs-addition{color:#aff5b4;background-color:#033a16}.hljs-deletion{color:#ffdcd7;background-color:#67060c}
    	pre{-webkit-text-size-adjust:100%;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;font-weight:400;word-break:break-word;word-wrap:break-word;box-sizing:inherit;border-radius:4px;overflow-x:auto;font-family:source-code-pro,Menlo,Monaco,"Courier New",Courier,monospace}code{-webkit-text-size-adjust:100%;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;word-wrap:break-word;word-break:break-word;font-style:normal;line-height:20px;letter-spacing:-.003em;box-sizing:inherit;font-weight:400;font-size:75%;font-family:source-code-pro,Menlo,Monaco,"Courier New",Courier,monospace}
    </style>
    <style type="text/css">
    	.back-to-top{position:fixed;bottom:20px;right:20px;background-color:#a73f3f;color:#fff;padding:8px 10px;border-radius:50%;box-shadow:0 4px 6px rgb(0 0 0 / .2);font-size:10px;font-weight:700;text-decoration:none;text-align:center;transition:opacity 0.3s ease,visibility 0.3s ease;z-index:99999;opacity:1;visibility:visible}.back-to-top:hover{background-color:#0056b3}
    </style>
    <style type="text/css">
        .ad-header {margin: 1rem auto 1rem;background-color: #fdfdfd;text-align: center;display: block;}.ad-header .ad-wrapper {min-height: 90px;display: flex;align-items: center;justify-content: center;font-size: 1rem;color: #555;font-weight: 500;padding: 3rem;border: 1px dashed #ccc;border-radius: 6px;}@media (max-width: 768px) {.ad-header {padding: 0.75rem;}}.ad-sidebar {margin: 0 0 1rem;background-color: #fefefe;text-align: center;padding: 0px;width: 100%;max-width: 100%;display: block;}.ad-sidebar .ad-wrapper {min-height: 250px;display: flex;align-items: center;justify-content: center;font-size: 1rem;color: #444;font-weight: 500;border: 1px dashed #aaa;border-radius: 6px;padding: 0rem;}@media (max-width: 1024px) {.ad-sidebar {padding: 0.75rem;}}
    </style>
    <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "Article",
          "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://catatansoal.github.io/blog/summarize-docs-hugging-face-pipeline"
          },
          "headline": "Summarize Docs: Hugging Face Pipeline Integration",
          "description": "Summarize Docs: Hugging Face Pipeline Integration...",
          "image": [
            "https://tse4.mm.bing.net/th?q=Issue%203%3A%20Adding%20Hugging%20Face%20Summarization%20Pipeline"
          ],
          "author": {
            "@type": "Person",
            "name": "ADMIN",
            "jobTitle": "Editor web"
          },
          "publisher": {
            "@type": "Organization",
            "name": "Question Notes",
            "logo": {
              "@type": "ImageObject",
              "url": "https://tse4.mm.bing.net/th?q=Question%20Notes"
            }
          },
          "datePublished": "2025-08-02T16:26:53+00:00",
          "dateModified": "2025-08-02T16:26:53+00:00"
        }
    </script>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="container nav-container">
                <div class="nav-left">
                    <span class="logo">Question Notes</span>
                    <span class="blog-tag">Article</span>
                </div>
                <div class="nav-search">
                    <form class="search-form" role="search">
                        <input 
                            type="search" 
                            class="search-input"
                            placeholder="Search articles..."
                            aria-label="Search articles"
                        >
                        <button type="submit" class="search-button" aria-label="Submit search">🔎</button>
                    </form>
                </div>
                <button class="nav-toggle" aria-label="Toggle navigation">
                    <span class="hamburger"></span>
                </button>
                <div class="nav-menu">
                    <ul class="nav-list">
                    	<li><a href="/" class="nav-link">HOME</a></li>
                        <li><a href="/pages/About" class="nav-link">About</a></li>
                        <li><a href="/pages/Contact" class="nav-link">Contact</a></li>
                        <li><a href="/pages/Disclaimer" class="nav-link">Disclaimer</a></li>
                        <li><a href="/pages/Privacy" class="nav-link">Privacy</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <main class="main">
        <article class="article">
            <header class="article-header">
                <div class="container">
                    <h1>Summarize Docs: Hugging Face Pipeline Integration</h1>
                    <div class="meta">
                        <time datetime="2025-08-02T16:26:53+00:00">Aug 2, 2025</time>
                        <span class="author">by ADMIN</span>
                        <span class="view-count">
                            <span id="viewCount">50</span> views
                        </span>
                    </div>
                </div>
            </header>
            <div class="ad-header container">
                <!-- <div class="ad-wrapper">
    Iklan Headers
</div> -->
            </div>
            <div class="container">
                <div class="article-layout">
                    <div class="content">
                        <img src="https://tse4.mm.bing.net/th?q=Issue%203%3A%20Adding%20Hugging%20Face%20Summarization%20Pipeline" title="Issue 3: Adding Hugging Face Summarization Pipeline" width="300" height="200"/><h2>Discussion Category</h2>
<p>jrheisler, document-testing</p>
<h2>Additional Information</h2>
<h3>Description</h3>
<p>Hey guys! Let's dive into Issue 3, where we're going to use Hugging Face's awesome summarization pipeline to create summaries of uploaded documents. This will help users quickly grasp the main points of their documents without reading everything. Think of it as giving a TL;DR (Too Long; Didn't Read) for each uploaded file!</p>
<h3>Tasks</h3>
<p>To make this happen, we've got a few key tasks to tackle:</p>
<ul>
<li>
<p>[ ] <strong>Use <code>pipeline(&quot;summarization&quot;)</code></strong>: We’ll be leveraging Hugging Face's <code>pipeline</code> function with the <code>summarization</code> argument. This will allow us to use pre-trained models like BART or T5, which are powerhouses when it comes to summarizing text. These models have been trained on vast amounts of text data and are capable of generating coherent and concise summaries.</p>
</li>
<li>
<p>[ ] <strong>Feed extracted text from the uploaded document</strong>: Once a document is uploaded, we need to extract the text content. This extracted text will then be fed into the summarization pipeline. The pipeline will process this text and generate a summary. Think of it like feeding information into a smart machine that spits out a condensed version.</p>
</li>
<li>
<p>[ ] <strong>Add <code>summary</code> field to <code>/meta/&lt;slug&gt;.json</code></strong>: After generating the summary, we'll add it to the document's metadata file, specifically under a new <code>summary</code> field in <code>/meta/&lt;slug&gt;.json</code>. This means that each document will have its summary readily available in its metadata, making it easy to access and display. The <code>&lt;slug&gt;</code> part refers to a unique identifier for each document, ensuring that each file has its own metadata file.</p>
</li>
</ul>
<p><strong>Labels:</strong> <code>ai</code>, <code>huggingface</code>, <code>summary</code></p>
<p>Let's break down each task in more detail.</p>
<h3>Using the Hugging Face Summarization Pipeline</h3>
<p>The first step is to utilize Hugging Face's <code>pipeline</code> function for summarization. This involves loading a pre-trained model suitable for text summarization. Models like BART (Bidirectional and Auto-Regressive Transformer) and T5 (Text-to-Text Transfer Transformer) are excellent choices due to their proven performance in this area. Here’s how you can approach this:</p>
<ol>
<li>
<p><strong>Import the <code>pipeline</code> function</strong>: Start by importing the <code>pipeline</code> function from the <code>transformers</code> library.</p>
<pre><code class="hljs">from transformers import pipeline
</code></pre>
</li>
<li>
<p><strong>Initialize the summarization pipeline</strong>: Next, initialize the pipeline with the <code>summarization</code> argument. This tells the pipeline that you want to perform text summarization.</p>
<pre><code class="hljs">summarizer = pipeline(&quot;summarization&quot;)
</code></pre>
</li>
<li>
<p><strong>Specify a model (optional)</strong>: If you want to use a specific model, you can specify it during initialization. For example, to use the T5 model, you can do:</p>
<pre><code class="hljs">summarizer = pipeline(&quot;summarization&quot;, model=&quot;t5-small&quot;)
</code></pre>
<p>Note that using different models might require different amounts of computational resources. Smaller models like <code>t5-small</code> are faster but might produce less accurate summaries, while larger models like <code>bart-large-cnn</code> are more accurate but require more resources.</p>
</li>
<li>
<p><strong>Handle long documents</strong>: Summarizing very long documents might exceed the maximum input length of the model. In such cases, you'll need to split the document into smaller chunks and summarize each chunk separately. Then, combine the summaries of the chunks to produce the final summary. This can be achieved using a sliding window approach.</p>
<pre><code class="hljs">def summarize_long_document(text, summarizer, max_length=512):
    # Split the text into chunks
    chunks = [text[i:i+max_length] for i in range(0, len(text), max_length)]
    
    # Summarize each chunk
    summaries = [summarizer(chunk, max_length=130, min_length=30, do_sample=False)[0][&#39;summary_text&#39;] for chunk in chunks]
    
    # Combine the summaries
    final_summary = &#39; &#39;.join(summaries)
    return final_summary
</code></pre>
</li>
</ol>
<h3>Feeding Extracted Text into the Pipeline</h3>
<p>Once the document is uploaded, the text needs to be extracted and fed into the summarization pipeline. This involves:</p>
<ol>
<li>
<p><strong>Extracting text from the document</strong>: Depending on the document type (e.g., PDF, DOCX, TXT), you'll need to use appropriate libraries to extract the text. For example, you can use <code>PyPDF2</code> for PDFs, <code>python-docx</code> for DOCX files, and simple file reading for TXT files.</p>
<pre><code class="hljs">def extract_text_from_pdf(pdf_path):
    import PyPDF2
    with open(pdf_path, &#39;rb&#39;) as file:
        reader = PyPDF2.PdfReader(file)
        text = &#39;&#39;
        for page in reader.pages:
            text += page.extract_text()
    return text

def extract_text_from_docx(docx_path):
    from docx import Document
    document = Document(docx_path)
    text = &#39;&#39;
    for paragraph in document.paragraphs:
        text += paragraph.text + &#39;\n&#39;
    return text

def extract_text_from_txt(txt_path):
    with open(txt_path, &#39;r&#39;) as file:
        text = file.read()
    return text
</code></pre>
</li>
<li>
<p><strong>Cleaning the extracted text</strong>: The extracted text might contain unnecessary characters, such as extra spaces, newline characters, or special symbols. Cleaning the text ensures that the summarization pipeline receives clean input.</p>
<pre><code class="hljs">import re

def clean_text(text):
    text = re.sub(r&#39;\s+&#39;, &#39; &#39;, text)  # Remove extra spaces
    text = text.strip()  # Remove leading/trailing spaces
    return text
</code></pre>
</li>
<li>
<p><strong>Feeding the text into the summarization pipeline</strong>: After extracting and cleaning the text, feed it into the summarization pipeline to generate the summary.</p>
<pre><code class="hljs">def generate_summary(text, summarizer):
    summary = summarizer(text, max_length=130, min_length=30, do_sample=False)[0][&#39;summary_text&#39;]
    return summary
</code></pre>
</li>
</ol>
<h3>Adding the Summary to the Metadata File</h3>
<p>The final step is to add the generated summary to the document's metadata file. This involves:</p>
<ol>
<li>
<p><strong>Locating the metadata file</strong>: The metadata file is located at <code>/meta/&lt;slug&gt;.json</code>, where <code>&lt;slug&gt;</code> is a unique identifier for the document. You'll need to determine the <code>&lt;slug&gt;</code> for the current document.</p>
</li>
<li>
<p><strong>Reading the existing metadata</strong>: Read the existing metadata from the JSON file.</p>
<pre><code class="hljs">import json

def read_metadata(metadata_path):
    with open(metadata_path, &#39;r&#39;) as file:
        metadata = json.load(file)
    return metadata
</code></pre>
</li>
<li>
<p><strong>Adding the summary to the metadata</strong>: Add the generated summary to the metadata under a new <code>summary</code> field.</p>
<pre><code class="hljs">def add_summary_to_metadata(metadata, summary):
    metadata[&#39;summary&#39;] = summary
    return metadata
</code></pre>
</li>
<li>
<p><strong>Writing the updated metadata back to the file</strong>: Write the updated metadata back to the JSON file.</p>
<pre><code class="hljs">def write_metadata(metadata, metadata_path):
    with open(metadata_path, &#39;w&#39;) as file:
    json.dump(metadata, file, indent=4)
</code></pre>
</li>
</ol>
<h3>Putting It All Together</h3>
<p>Here's how you can combine all the steps to create a complete summarization process:</p>
<pre><code class="hljs">from transformers import pipeline
import json
import re
from docx import Document
import PyPDF2


def extract_text_from_pdf(pdf_path):
    with open(pdf_path, &#39;rb&#39;) as file:
        reader = PyPDF2.PdfReader(file)
        text = &#39;&#39;
        for page in reader.pages:
            text += page.extract_text()
    return text


def extract_text_from_docx(docx_path):
    document = Document(docx_path)
    text = &#39;&#39;
    for paragraph in document.paragraphs:
        text += paragraph.text + &#39;\n&#39;
    return text


def extract_text_from_txt(txt_path):
    with open(txt_path, &#39;r&#39;) as file:
        text = file.read()
    return text


def clean_text(text):
    text = re.sub(r&#39;\s+&#39;, &#39; &#39;, text)
    text = text.strip()
    return text


def summarize_long_document(text, summarizer, max_length=512):
    chunks = [text[i:i + max_length] for i in range(0, len(text), max_length)]
    summaries = [summarizer(chunk, max_length=130, min_length=30, do_sample=False)[0][&#39;summary_text&#39;] for chunk in chunks]
    final_summary = &#39; &#39;.join(summaries)
    return final_summary


def read_metadata(metadata_path):
    with open(metadata_path, &#39;r&#39;) as file:
        metadata = json.load(file)
    return metadata


def add_summary_to_metadata(metadata, summary):
    metadata[&#39;summary&#39;] = summary
    return metadata


def write_metadata(metadata, metadata_path):
    with open(metadata_path, &#39;w&#39;) as file:
        json.dump(metadata, file, indent=4)


def main(document_path, metadata_path):
    # Initialize the summarization pipeline
    summarizer = pipeline(&quot;summarization&quot;)

    # Extract text from the document
    if document_path.endswith(&#39;.pdf&#39;):
        text = extract_text_from_pdf(document_path)
    elif document_path.endswith(&#39;.docx&#39;):
        text = extract_text_from_docx(document_path)
    else:
        text = extract_text_from_txt(document_path)

    # Clean the extracted text
    text = clean_text(text)

    # Summarize the text
    summary = summarize_long_document(text, summarizer)

    # Read the existing metadata
    metadata = read_metadata(metadata_path)

    # Add the summary to the metadata
    metadata = add_summary_to_metadata(metadata, summary)

    # Write the updated metadata back to the file
    write_metadata(metadata, metadata_path)

    print(&quot;Summary added to metadata file successfully!&quot;)


# Example usage
document_path = &#39;example.pdf&#39;  # Replace with the path to your document
metadata_path = &#39;/meta/example.json&#39;  # Replace with the path to your metadata file

# Create dummy files for testing
with open(document_path, &#39;w&#39;) as f:
    f.write(&#39;This is an example document for testing purposes.&#39;)
with open(metadata_path, &#39;w&#39;) as f:
    json.dump({}, f)

if __name__ == &quot;__main__&quot;:
    main(document_path, metadata_path)
</code></pre>
<h3>Conclusion</h3>
<p>By implementing these tasks, we'll be able to automatically generate summaries for uploaded documents using Hugging Face's summarization pipeline. This feature will greatly enhance the user experience by providing quick and easy access to the main points of each document. Let's get to work and make this happen!</p>

                    </div>
                    <aside class="related-posts">
                        <div class="ad-sidebar container">
                            <!-- <div class="ad-wrapper">
    <span>Iklan Related</span>
</div> -->
                        </div>
                        <h2 class="related-posts-title">Related Posts</h2><article class="related-post">
                            <h3 class="related-post-title">
                                <a href="https://catatansoal.github.io/blog/equilibrium-shift-under-pressure-analyzing">Equilibrium Shift Under Pressure Analyzing The Reaction CH4(g) + H2O(g) ⇌ CO(g) + 3H2(g)</a>
                            </h3>
                            <div class="meta">
                            	<time datetime="2025-07-16T23:38:34+00:00">Jul 16, 2025</time>
		                        <span class="view-count">
									88 views
		                        </span>
                            </div>
                        </article><article class="related-post">
                            <h3 class="related-post-title">
                                <a href="https://catatansoal.github.io/blog/gopher-control-how-to-get">Gopher Control: How To Get Rid Of Gophers Effectively</a>
                            </h3>
                            <div class="meta">
                            	<time datetime="2025-08-06T08:45:27+00:00">Aug 6, 2025</time>
		                        <span class="view-count">
									53 views
		                        </span>
                            </div>
                        </article><article class="related-post">
                            <h3 class="related-post-title">
                                <a href="https://catatansoal.github.io/blog/understanding-gravity-and-mass-the">Understanding Gravity And Mass The Equation F = 32.2m</a>
                            </h3>
                            <div class="meta">
                            	<time datetime="2025-07-17T11:56:48+00:00">Jul 17, 2025</time>
		                        <span class="view-count">
									53 views
		                        </span>
                            </div>
                        </article><article class="related-post">
                            <h3 class="related-post-title">
                                <a href="https://catatansoal.github.io/blog/understanding-p-z-1-7">Understanding P(z ≥ 1.7) Equivalent Probability Statements And Z-Scores Explained</a>
                            </h3>
                            <div class="meta">
                            	<time datetime="2025-07-16T22:16:11+00:00">Jul 16, 2025</time>
		                        <span class="view-count">
									81 views
		                        </span>
                            </div>
                        </article><article class="related-post">
                            <h3 class="related-post-title">
                                <a href="https://catatansoal.github.io/blog/main-group-elements-and-ion">Main-Group Elements And Ion Formation True Or False</a>
                            </h3>
                            <div class="meta">
                            	<time datetime="2025-07-13T22:19:20+00:00">Jul 13, 2025</time>
		                        <span class="view-count">
									51 views
		                        </span>
                            </div>
                        </article>
                    </aside>
                    <aside class="related-posts"></aside>
                </div>
            </div>
        </article>
        <a href="#" class="back-to-top" id="backToTop" title="Back to top">
        	<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-bar-up" viewBox="0 0 16 16">
			  <path fill-rule="evenodd" d="M3.646 11.854a.5.5 0 0 0 .708 0L8 8.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708M2.4 5.2c0 .22.18.4.4.4h10.4a.4.4 0 0 0 0-.8H2.8a.4.4 0 0 0-.4.4"/>
			</svg>
		</a>
    </main>
    <footer class="footer">
        <div class="container">
            <p>© 2025 Question Notes</p>
        </div>
    </footer>
    <script>
    	(() => {
            const navToggle = document.querySelector('.nav-toggle');
            const navMenu = document.querySelector('.nav-menu');
            const toggleMenu = () => {
                navMenu.classList.toggle('nav-menu-active');
                navToggle.classList.toggle('nav-toggle-active');
            };
            const backToTopHandler = (e) => {
                e.preventDefault();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };
            navToggle.addEventListener('click', toggleMenu);
            document.getElementById('backToTop').addEventListener('click', backToTopHandler);
            window.addEventListener('pagehide', () => {
                navToggle.removeEventListener('click', toggleMenu);
                document.getElementById('backToTop').removeEventListener('click', backToTopHandler);
            });
        })();
		(() => {
            window.addEventListener("DOMContentLoaded", (event) => {
                const ellHljs = document.createElement("script");
                ellHljs.setAttribute("src", "https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js");
                ellHljs.onload = () => {
                    hljs.highlightAll();
                };
                document.querySelector("body").append(ellHljs);
                const ellFont = document.createElement("link");
                ellFont.setAttribute("href", "https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css");
                ellFont.setAttribute("rel", "stylesheet");
                document.querySelector("head").append(ellFont);
                window.addEventListener('pagehide', () => {
                    // ellHljs.remove();
                    ellFont.remove();
                });

            });
        })();
    </script>
    <!-- Histats.com  START  (aync)-->
<script type="text/javascript">var _Hasync= _Hasync|| [];
_Hasync.push(['Histats.start', '1,4957095,4,0,0,0,00010000']);
_Hasync.push(['Histats.fasi', '1']);
_Hasync.push(['Histats.track_hits', '']);
(function() {
var hs = document.createElement('script'); hs.type = 'text/javascript'; hs.async = true;
hs.src = ('//s10.histats.com/js15_as.js');
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(hs);
})();</script>
<!-- Histats.com  END  -->
    
    
</body>
</html>
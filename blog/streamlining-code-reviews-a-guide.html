<!DOCTYPE html>
<html lang="en">
<head>
	<title>Streamlining Code Reviews A Guide To Gh-pr-review&#39;s Line Number Adjustment Feature</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Streamlining Code Reviews A Guide To Gh-pr-reviews Line Number Adjustment Feature...">
    <link rel="canonical" href="https://catatansoal.github.io/blog/streamlining-code-reviews-a-guide">
	<meta property="og:type" content="article">
	<meta property="og:title" content="Streamlining Code Reviews A Guide To Gh-pr-review&#39;s Line Number Adjustment Feature">
	<meta property="og:description" content="Streamlining Code Reviews A Guide To Gh-pr-reviews Line Number Adjustment Feature...">
	<meta property="og:url" content="https://catatansoal.github.io/blog/streamlining-code-reviews-a-guide">
	<meta property="og:site_name" content="ANABEL">
	<meta property="article:published_time" content="2025-07-24T07:59:09+00:00">
	<meta property="article:author" content="ADMIN">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preload" as="script" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js">
    <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css">
    <link rel="preload" fetchpriority="high" as="image" href="https://tse4.mm.bing.net/th?q=Streamlining%20Code%20Reviews%20with%20gh-pr-review's%20Line%20Number%20Adjustment%20Feature">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <style type="text/css">
    	:root{--primary-color:#3740ff;--text-color:#202124;--background-color:#ffffff;--gray-100:#f8f9fa;--gray-200:#e9ecef}*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;line-height:1.6;color:var(--text-color);background-color:var(--background-color)}.container{max-width:1200px;margin:0 auto;padding:0 1.5rem}.header{background-color:var(--background-color);border-bottom:1px solid var(--gray-200);position:sticky;top:0;z-index:100}.nav{padding:.5rem 0}.nav-container{display:flex;justify-content:space-between;align-items:center;gap:1rem}.nav-left{display:flex;align-items:center;flex-shrink:0}.logo{font-weight:700;color:var(--primary-color)}.blog-tag{margin-left:1rem;padding:.25rem .5rem;background-color:var(--gray-100);border-radius:4px;font-size:.875rem}.nav-search{flex-grow:1;max-width:300px}.search-form{position:relative;width:100%}.search-input{width:100%;padding:.5rem 2.5rem .5rem 1rem;border:1px solid var(--gray-200);border-radius:24px;font-size:.875rem;transition:all 0.2s}.search-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 2px rgb(55 64 255 / .1)}.search-button{position:absolute;right:.5rem;top:50%;transform:translateY(-50%);background:none;border:none;color:#5f6368;cursor:pointer;padding:.25rem;display:flex;align-items:center;justify-content:center}.search-button:hover{color:var(--primary-color)}.nav-toggle{display:none;background:none;border:none;cursor:pointer;padding:.5rem}.hamburger{display:block;position:relative;width:24px;height:2px;background:var(--text-color);transition:all 0.3s}.hamburger::before,.hamburger::after{content:'';position:absolute;width:24px;height:2px;background:var(--text-color);transition:all 0.3s}.hamburger::before{top:-6px}.hamburger::after{bottom:-6px}.nav-toggle-active .hamburger{background:#fff0}.nav-toggle-active .hamburger::before{transform:rotate(45deg);top:0}.nav-toggle-active .hamburger::after{transform:rotate(-45deg);bottom:0}.nav-list{display:flex;list-style:none;gap:2rem}.nav-link{color:var(--text-color);text-decoration:none;font-size:.9rem;transition:color 0.2s}.nav-link:hover{color:var(--primary-color)}.article-header{padding:2rem 0;background-color:var(--gray-100)}.article-layout{display:grid;grid-template-columns:1fr 350px;gap:3rem;padding:1rem 0;align-items: start}h1,h2,h3,h4,h5,h6{font-family:"Crimson Text","Times New Roman",Times,serif}h1{font-size:2.5rem;line-height:1.2;margin-bottom:1rem}.meta{color:#5f6368;font-size:.875rem;display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.view-count{display:inline-flex;align-items:center;gap:.25rem}.view-count svg{color:#5f6368}.content{min-width:0;border-bottom:1px solid #dddddd5e;margin-top:1rem;white-space:pre-line !important;overflow-wrap:break-word;overflow-x:auto;word-break:break-word}.lead{font-size:1.25rem;color:#5f6368;margin-bottom:2rem}h2,h3,h4,h5,h6{font-size:1.75rem;margin:1rem 0 1rem}p,pre,ol,ul>li{margin-bottom:1rem;font-family:"Newsreader",serif;font-optical-sizing:auto;font-style:normal;font-size:1.3rem;text-align: justify;}p>code{font-size:1rem;font-weight:700;padding:.1rem .3rem .1rem .3rem;background:#0000000f;color:#000;border-radius:5px}hr{margin:1rem 0 1rem 0}.code-example{background-color:var(--gray-100);padding:1.5rem;border-radius:8px;margin:1.5rem 0;overflow-x:auto}code{font-family:'Roboto Mono',monospace;font-size:.875rem}ul{margin:.2rem 0;padding-left:1.5rem}.related-posts{background-color:var(--gray-100);padding:1.5rem;border-radius:8px;position:sticky;top:5rem}.related-posts-title,.newpost-posts-list{font-size:1.75rem;margin:0 0 1rem}.related-posts-list{display:flex;flex-direction:column;gap:.5rem}.related-post,.newpost-post{border-bottom:1px solid #ddd;padding-bottom:10px;margin-bottom:10px}.related-post:last-child,.newpost-post:last-child{padding-bottom:0;border-bottom:none}.related-post-title,.newpost-post-title{font-size:1.2rem;margin:0 0 .1rem;font-family:"Newsreader",serif;font-optical-sizing:auto;font-style:normal;display: -webkit-box;-webkit-line-clamp: 3;-webkit-box-orient: vertical;overflow: hidden;}.related-post-title a,.newpost-post-title a{color:var(--text-color);text-decoration:none;transition:color 0.2s}.related-post-title a:hover,.newpost-post-title a:hover{color:var(--primary-color)}.related-post time{font-size:.875rem;color:#5f6368}.footer{background-color:var(--gray-100);padding:2rem 0;margin-top:4rem;color:#5f6368;font-size:.875rem}.nav-menu>ul>li{margin-bottom:0}@media (max-width:1024px){.container{max-width:800px}.article-layout{grid-template-columns:1fr;gap:2rem}.related-posts{position:static}}@media (max-width:768px){.nav-container{flex-wrap:wrap}.nav-search{order:3;max-width:none;width:100%;margin-top:.1rem}.nav-toggle{display:block}.nav-menu{display:none;position:absolute;top:100%;left:0;right:0;background:var(--background-color);padding:1rem 0;border-bottom:1px solid var(--gray-200)}.nav-menu-active{display:block}.nav-list{flex-direction:column;gap:.1rem;padding:0 1.5rem}.nav-link{display:block;padding:.2rem 0}h1{font-size:2rem}.article-header{padding:2rem 0}.content{padding:.1rem 0}}table{width:100%;border-collapse:collapse;margin:20px 0;font-family:'Arial',sans-serif}th,td{padding:12px 15px;text-align:left;border:1px solid #ddd}th{background-color:#0F7F0B;color:#FFF}td{background-color:#f9f9f9}tr:nth-child(even) td{background-color:#f2f2f2}@media screen and (max-width:768px){table{border:0;display:block;overflow-x:auto;white-space:nowrap}th,td{padding:10px;text-align:right}th{background-color:#0F7F0B;color:#FFF}td{background-color:#f9f9f9;border-bottom:1px solid #ddd}tr:nth-child(even) td{background-color:#f2f2f2}}a{text-decoration:none;color:#540707}.katex-html{padding: .2rem;color: #000;font-weight: 700;font-size: 1.3rem;overflow-wrap: break-word;max-width: 100%;white-space: normal !important}.category{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap;margin:1rem 0 1rem 0}.tag{font-size:1rem;font-weight:700;padding:.1rem .3rem .1rem .3rem;background:#0000000f;color:#000;border-radius:5px;font-family:"Newsreader",serif}.tag>a{text-decoration:none;color:#000}img{margin:auto;display:block;max-width:100%;height:auto;margin-bottom:1rem}.katex{white-space: pre-line !important;display: inline-block;max-width: 100%;overflow-x: auto;overflow-y: hidden;scrollbar-width: thin;overflow-wrap: break-word;word-break: break-word;vertical-align: -7px}.content > p {overflow-wrap: break-word;word-break: break-word}
    </style>
    <style type="text/css">
    	pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}
		.hljs{color:#c9d1d9;background:#0d1117}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#ff7b72}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#d2a8ff}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#79c0ff}.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#a5d6ff}.hljs-built_in,.hljs-symbol{color:#ffa657}.hljs-code,.hljs-comment,.hljs-formula{color:#8b949e}.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#7ee787}.hljs-subst{color:#c9d1d9}.hljs-section{color:#1f6feb;font-weight:700}.hljs-bullet{color:#f2cc60}.hljs-emphasis{color:#c9d1d9;font-style:italic}.hljs-strong{color:#c9d1d9;font-weight:700}.hljs-addition{color:#aff5b4;background-color:#033a16}.hljs-deletion{color:#ffdcd7;background-color:#67060c}
    	pre{-webkit-text-size-adjust:100%;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;font-weight:400;word-break:break-word;word-wrap:break-word;box-sizing:inherit;border-radius:4px;overflow-x:auto;font-family:source-code-pro,Menlo,Monaco,"Courier New",Courier,monospace}code{-webkit-text-size-adjust:100%;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;word-wrap:break-word;word-break:break-word;font-style:normal;line-height:20px;letter-spacing:-.003em;box-sizing:inherit;font-weight:400;font-size:75%;font-family:source-code-pro,Menlo,Monaco,"Courier New",Courier,monospace}
    </style>
    <style type="text/css">
    	.back-to-top{position:fixed;bottom:20px;right:20px;background-color:#a73f3f;color:#fff;padding:8px 10px;border-radius:50%;box-shadow:0 4px 6px rgb(0 0 0 / .2);font-size:10px;font-weight:700;text-decoration:none;text-align:center;transition:opacity 0.3s ease,visibility 0.3s ease;z-index:99999;opacity:1;visibility:visible}.back-to-top:hover{background-color:#0056b3}
    </style>
    <style type="text/css">
        .ad-header {margin: 1rem auto 1rem;background-color: #fdfdfd;text-align: center;display: block;}.ad-header .ad-wrapper {min-height: 90px;display: flex;align-items: center;justify-content: center;font-size: 1rem;color: #555;font-weight: 500;padding: 3rem;border: 1px dashed #ccc;border-radius: 6px;}@media (max-width: 768px) {.ad-header {padding: 0.75rem;}}.ad-sidebar {margin: 0 0 1rem;background-color: #fefefe;text-align: center;padding: 0px;width: 100%;max-width: 100%;display: block;}.ad-sidebar .ad-wrapper {min-height: 250px;display: flex;align-items: center;justify-content: center;font-size: 1rem;color: #444;font-weight: 500;border: 1px dashed #aaa;border-radius: 6px;padding: 0rem;}@media (max-width: 1024px) {.ad-sidebar {padding: 0.75rem;}}
    </style>
    <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "Article",
          "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://catatansoal.github.io/blog/streamlining-code-reviews-a-guide"
          },
          "headline": "Streamlining Code Reviews A Guide To Gh-pr-review&#39;s Line Number Adjustment Feature",
          "description": "Streamlining Code Reviews A Guide To Gh-pr-reviews Line Number Adjustment Feature...",
          "image": [
            "https://tse4.mm.bing.net/th?q=Streamlining%20Code%20Reviews%20with%20gh-pr-review's%20Line%20Number%20Adjustment%20Feature"
          ],
          "author": {
            "@type": "Person",
            "name": "ADMIN",
            "jobTitle": "Editor web"
          },
          "publisher": {
            "@type": "Organization",
            "name": "ANABEL",
            "logo": {
              "@type": "ImageObject",
              "url": "https://tse4.mm.bing.net/th?q=ANABEL%20WEB"
            }
          },
          "datePublished": "2025-07-24T07:59:09+00:00",
          "dateModified": "2025-07-24T07:59:09+00:00"
        }
    </script>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="container nav-container">
                <div class="nav-left">
                    <span class="logo">ANABEL</span>
                    <span class="blog-tag">Article</span>
                </div>
                <div class="nav-search">
                    <form class="search-form" role="search">
                        <input 
                            type="search" 
                            class="search-input"
                            placeholder="Search articles..."
                            aria-label="Search articles"
                        >
                        <button type="submit" class="search-button" aria-label="Submit search">🔎</button>
                    </form>
                </div>
                <button class="nav-toggle" aria-label="Toggle navigation">
                    <span class="hamburger"></span>
                </button>
                <div class="nav-menu">
                    <ul class="nav-list">
                    	<li><a href="/" class="nav-link">HOME</a></li>
                        <li><a href="/pages/About" class="nav-link">About</a></li>
                        <li><a href="/pages/Contact" class="nav-link">Contact</a></li>
                        <li><a href="/pages/Disclaimer" class="nav-link">Disclaimer</a></li>
                        <li><a href="/pages/Privacy" class="nav-link">Privacy</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <main class="main">
        <article class="article">
            <header class="article-header">
                <div class="container">
                    <h1>Streamlining Code Reviews A Guide To Gh-pr-review&#39;s Line Number Adjustment Feature</h1>
                    <div class="meta">
                        <time datetime="2025-07-24T07:59:09+00:00">Jul 24, 2025</time>
                        <span class="author">by ADMIN</span>
                        <span class="view-count">
                            <span id="viewCount">83</span> views
                        </span>
                    </div>
                </div>
            </header>
            <div class="ad-header container">
                <div class="ad-wrapper">
    Iklan Headers
</div>
            </div>
            <div class="container">
                <div class="article-layout">
                    <div class="content">
                        <img src="https://tse4.mm.bing.net/th?q=Streamlining%20Code%20Reviews%20with%20gh-pr-review's%20Line%20Number%20Adjustment%20Feature" title="Streamlining Code Reviews with gh-pr-review&#39;s Line Number Adjustment Feature" width="300" height="200"/><p>Hey guys! Let's dive into a super cool feature proposal that's going to make our code review process way smoother with <code>gh-pr-review</code>. We're talking about a <strong>Line Number Adjustment Feature</strong> that will save us from those annoying moments when comments point to the wrong lines after code changes. Trust me, this is a game-changer!</p>
<h2>The Problem Statement: The Drifting Comments Dilemma</h2>
<p>Okay, so here's the deal. We've all been there, right? You're rocking a code review with <code>gh-pr-review</code>, leaving thoughtful comments like, &quot;Hey, <em>maybe optimize this function</em>?&quot; or &quot;<strong>Documentation needed here!</strong>&quot; Then, bam! The developer fixes an earlier issue, deletes a few lines, and suddenly your carefully placed comments are pointing to Narnia. Not cool!</p>
<h3>The Scenario</h3>
<p>Imagine this:</p>
<ol>
<li>You drop Comment A on line 15: &quot;<em>Fix this bug, please.</em>&quot;</li>
<li>You add Comment B on line 25: &quot;<strong>Optimize this function.</strong>&quot;</li>
<li>And Comment C on line 40: &quot;<em>Add documentation.</em>&quot;</li>
<li>The dev fixes the bug in Comment A, removing two lines of code.</li>
<li><strong>The problem?</strong> Comment B, which was on line 25, is now chilling on line 23, and Comment C is hanging out on line 38. Our comments are lost in the code shuffle!</li>
</ol>
<p>This is super frustrating and can lead to misunderstandings and wasted time. We need a fix, and that's where the <strong>Line Number Adjustment Feature</strong> comes in to save the day.</p>
<h2>Proposed Solution: The <code>adjust</code> Command to the Rescue</h2>
<p>Our awesome solution? We're adding a shiny new <code>adjust</code> command to <code>gh-pr-review</code>. This command is like a magic wand that recalculates and updates comment line numbers after those pesky file modifications. Think of it as a GPS for your code comments!</p>
<h3>Core Features: The Nitty-Gritty</h3>
<p>Let's break down the superpowers of this <code>adjust</code> command:</p>
<h4>1. Line Mapping Detection: The Sherlock Holmes of Code</h4>
<pre><code class="hljs"># Detect changes and show what adjustments would be made
gh-pr-review adjust &lt;owner&gt;/&lt;repo&gt; &lt;identifier&gt; &lt;file&gt; --dry-run
</code></pre>
<p>This is where the magic starts. The tool will compare the current file state with the stored diff hunks (think of them as code fingerprints). It'll then calculate line number shifts caused by insertions and deletions. The <code>--dry-run</code> option is like a sneak peek – it shows you what adjustments <em>would</em> be made without actually changing anything. Super useful for double-checking!</p>
<h4>2. Automatic Line Adjustment: The Auto-Pilot for Comments</h4>
<pre><code class="hljs"># Apply line number adjustments
gh-pr-review adjust &lt;owner&gt;/&lt;repo&gt; &lt;identifier&gt; &lt;file&gt;
</code></pre>
<p>This is the main event! This command automatically recalculates comment positions based on the detected changes. It's not just for single-line comments either; it handles multi-line comments like a pro. It preserves your precious comment content and metadata and even validates the adjusted positions against the current diff hunks. It's like having a meticulous assistant for your code reviews.</p>
<h4>3. Manual Line Adjustment: When You Need to Get Hands-On</h4>
<pre><code class="hljs"># Manually specify line number changes
gh-pr-review adjust &lt;owner&gt;/&lt;repo&gt; &lt;identifier&gt; &lt;file&gt; --mapping &quot;15:-2,30:+1,45:-3&quot;
</code></pre>
<p>Sometimes, auto-detection might not catch everything, especially with complex changes. That's where manual adjustment comes in. You can specify line number changes using the <code>--mapping</code> option. The format is <code>old_line:offset</code>, where the offset can be positive (lines added) or negative (lines removed). You can even use ranges like <code>15-20:+2</code> to shift multiple lines at once. Talk about precision!</p>
<h4>4. Batch File Processing: The Multi-Tasker</h4>
<pre><code class="hljs"># Adjust comments across multiple files
gh-pr-review adjust &lt;owner&gt;/&lt;repo&gt; &lt;identifier&gt; --all-files
</code></pre>
<p>Got a bunch of files to adjust? No sweat! The <code>--all-files</code> option lets you adjust comments across multiple files in one fell swoop. It's like having a code review assembly line.</p>
<h3>Implementation Details: The Techy Stuff</h3>
<p>Let's peek behind the curtain and see how this magic happens.</p>
<h4>Data Structures: Keeping Track of the Changes</h4>
<p>We're going to extend the existing <code>Comment</code> model to track adjustment history. Think of it as a comment's personal timeline.</p>
<pre><code class="hljs">type Comment struct {
    Path      string    `json:&quot;path&quot;`
    Line      int       `json:&quot;line&quot;`
    StartLine *int      `json:&quot;start_line&quot;`
    Body      string    `json:&quot;body&quot;`
    Side      string    `json:&quot;side&quot;`
    SHA       string    `json:&quot;sha&quot;`
    CreatedAt time.Time `json:&quot;created_at&quot;`
    
    // New fields for line adjustment tracking
    OriginalLine     int                `json:&quot;original_line,omitempty&quot;`
    OriginalStartLine *int              `json:&quot;original_start_line,omitempty&quot;`
    AdjustmentHistory []LineAdjustment  `json:&quot;adjustment_history,omitempty&quot;`
}

type LineAdjustment struct {
    Timestamp    time.Time `json:&quot;timestamp&quot;`
    FromLine     int       `json:&quot;from_line&quot;`
    ToLine       int       `json:&quot;to_line&quot;`
    FromStartLine *int     `json:&quot;from_start_line,omitempty&quot;`
    ToStartLine   *int     `json:&quot;to_start_line,omitempty&quot;`
    Reason       string    `json:&quot;reason&quot;` // &quot;auto-detected&quot;, &quot;manual&quot;, etc.
}
</code></pre>
<p>We're adding fields like <code>OriginalLine</code>, <code>OriginalStartLine</code>, and <code>AdjustmentHistory</code> to keep tabs on how comments have moved over time. This is crucial for auditing and understanding the evolution of feedback.</p>
<h4>Command Structure: The Command Line Breakdown</h4>
<pre><code class="hljs">gh-pr-review adjust &lt;owner&gt;/&lt;repo&gt; &lt;identifier&gt; &lt;file&gt; [options]

Options:
  --dry-run              Show what would be adjusted without making changes
  --mapping MAPPING      Manual line number mapping (format: &quot;line:offset,line:offset&quot;)
  --all-files           Adjust comments in all files
  --auto-detect         Use git diff to auto-detect line changes (default)
  --interactive         Interactively confirm each adjustment
  --force               Apply adjustments even if validation fails
  --format FORMAT       Output format (table, json) [default: table]
</code></pre>
<p>This gives you a clear picture of the <code>adjust</code> command's syntax and options. We've got dry runs, manual mappings, batch processing, and even an interactive mode for the extra cautious.</p>
<h4>Algorithm for Auto-Detection: How the Magic Happens</h4>
<ol>
<li><strong>Get Current File State</strong>: We grab the latest version of the file.</li>
<li><strong>Compare with Stored Diff</strong>: We compare it against the diff hunks we saved earlier.</li>
<li><strong>Calculate Line Mapping</strong>: We use <code>git diff</code> (or something similar) to detect insertions, deletions, and modifications.</li>
<li><strong>Apply Adjustments</strong>: We update comment line numbers based on the calculated mapping.</li>
<li><strong>Validate</strong>: We make sure the adjusted comments still fit within the valid diff regions. It's like a sanity check for our comments.</li>
</ol>
<h4>Integration Points: Where It All Fits Together</h4>
<ul>
<li><strong>Storage Layer</strong>: We'll extend <code>GitHubStorage</code> with adjustment methods to handle the new data.</li>
<li><strong>Validation</strong>: We'll update diff validation to play nice with adjusted comments.</li>
<li><strong>Command Interface</strong>: We'll add a new command handler in <code>commands.go</code> to process the <code>adjust</code> command.</li>
<li><strong>CLI</strong>: We'll add argument parsing to handle the new command's options.</li>
</ul>
<h3>Usage Examples: Seeing It in Action</h3>
<p>Let's walk through some real-world scenarios.</p>
<h4>Scenario 1: Automatic Adjustment - The Bug Fix</h4>
<pre><code class="hljs"># After fixing a bug and removing 2 lines at line 15
gh-pr-review adjust myorg/myrepo 123 src/main.js

# Output:
# Adjusted 3 comments in src/main.js:
#   Line 25 → 23 (moved up 2 lines)  
#   Line 40 → 38 (moved up 2 lines)
#   Line 52 → 50 (moved up 2 lines)
</code></pre>
<p>In this case, the tool automatically detects the line shifts and adjusts the comments accordingly. Easy peasy!</p>
<h4>Scenario 2: Manual Mapping - The Complex Change</h4>
<pre><code class="hljs"># Complex changes that auto-detection can&#39;t handle
gh-pr-review adjust myorg/myrepo 123 src/main.js --mapping &quot;15:-2,30:+3,45:-1&quot;

# Output:
# Applied manual adjustments to src/main.js:
#   Lines around 15: shifted up 2 lines
#   Lines around 30: shifted down 3 lines  
#   Lines around 45: shifted up 1 line
</code></pre>
<p>Here, we use manual mapping to handle a more intricate situation. It gives us the flexibility to fine-tune the adjustments.</p>
<h4>Scenario 3: Interactive Mode - The Confirmation Round</h4>
<pre><code class="hljs">gh-pr-review adjust myorg/myrepo 123 src/main.js --interactive

# Output:
# Comment &quot;Fix this bug&quot; on line 25 → suggested line 23
# Apply this adjustment? (y/n/s/q): y
# 
# Comment &quot;Add documentation&quot; on line 40 → suggested line 38  
# Apply this adjustment? (y/n/s/q): n
</code></pre>
<p>The interactive mode lets you review and confirm each adjustment individually. It's perfect for those moments when you want to be extra sure.</p>
<h3>Error Handling: Catching the Curveballs</h3>
<p>We're not just building a feature; we're building a <em>robust</em> feature. Here's how we'll handle potential hiccups:</p>
<ul>
<li><strong>Invalid Adjustments</strong>: We'll warn you if an adjusted line falls outside the diff hunks.</li>
<li><strong>Conflicting Comments</strong>: We'll handle cases where multiple comments end up on the same line (more on that in Future Enhancements!).</li>
<li><strong>File Not Found</strong>: We'll give a clear error if a file doesn't exist in the current state.</li>
<li><strong>Git Integration</strong>: We'll gracefully handle failures in Git operations.</li>
</ul>
<h3>Future Enhancements: The Road Ahead</h3>
<p>We're not stopping here! We've got some exciting ideas for the future:</p>
<ol>
<li><strong>Smart Merging</strong>: When comments collide on the same line, we'll offer merge suggestions. Think of it as comment mediation!</li>
<li><strong>Context Preservation</strong>: We'll try to maintain comment relevance by analyzing the surrounding code context. It's like having a comment concierge.</li>
<li><strong>Integration with Submit</strong>: We'll automatically adjust comments before submitting reviews. Talk about seamless!</li>
<li><strong>Undo Capability</strong>: We'll let you revert adjustments if you make a mistake. Because everyone makes mistakes, right?</li>
</ol>
<h3>Benefits: Why This Matters</h3>
<p>Let's recap why this <strong>Line Number Adjustment Feature</strong> is such a big deal:</p>
<ol>
<li><strong>Improved Workflow</strong>: No more manual tracking of line number changes. Hallelujah!</li>
<li><strong>Reduced Errors</strong>: Comments will actually point to the right code. Imagine that!</li>
<li><strong>Better Collaboration</strong>: We'll maintain an accurate review state during iterative development. Less confusion, more clarity.</li>
<li><strong>Time Saving</strong>: Automates the tedious task of recalculating line numbers. More time for coding, less time for head-scratching.</li>
</ol>
<h3>Implementation Priority: The Roadmap</h3>
<p>We'll roll this out in phases:</p>
<ol>
<li><strong>Phase 1</strong>: Basic automatic detection and adjustment for single files. Get the core functionality in place.</li>
<li><strong>Phase 2</strong>: Manual mapping and dry-run capabilities. Add more control and visibility.</li>
<li><strong>Phase 3</strong>: Multi-file batch processing and interactive mode. Scale up the efficiency.</li>
<li><strong>Phase 4</strong>: Advanced features like smart merging and undo. Take it to the next level.</li>
</ol>
<h2>Conclusion: Level Up Your Code Reviews</h2>
<p>This feature is a significant upgrade for <code>gh-pr-review</code>. It tackles a real pain point in dynamic development workflows where code changes are frequent. By automating line number adjustments, we're not just making the tool more user-friendly; we're making the entire code review process smoother, more efficient, and less prone to errors. Let's make code reviews awesome again!</p>

                    </div>
                    <aside class="related-posts">
                        <div class="ad-sidebar container">
                            <div class="ad-wrapper">
    <span>Iklan Related</span>
</div>
                        </div>
                        <h2 class="related-posts-title">Related Posts</h2><article class="related-post">
                            <h3 class="related-post-title">
                                <a href="https://catatansoal.github.io/blog/fixing-logging-tagname-and-tagprovider">Fixing Logging TagName And TagProvider Attributes On Properties In .NET</a>
                            </h3>
                            <div class="meta">
                            	<time datetime="2025-07-14T10:53:32+00:00">Jul 14, 2025</time>
		                        <span class="view-count">
									71 views
		                        </span>
                            </div>
                        </article><article class="related-post">
                            <h3 class="related-post-title">
                                <a href="https://catatansoal.github.io/blog/sharp-gevrey-order-of-exp">Sharp Gevrey Order Of Exp(-1/x^γ) Explained</a>
                            </h3>
                            <div class="meta">
                            	<time datetime="2025-07-25T11:22:23+00:00">Jul 25, 2025</time>
		                        <span class="view-count">
									43 views
		                        </span>
                            </div>
                        </article><article class="related-post">
                            <h3 class="related-post-title">
                                <a href="https://catatansoal.github.io/blog/loofah-guide-exfoliate-for-smooth">Loofah Guide: Exfoliate For Smooth, Healthy Skin</a>
                            </h3>
                            <div class="meta">
                            	<time datetime="2025-08-06T13:52:43+00:00">Aug 6, 2025</time>
		                        <span class="view-count">
									48 views
		                        </span>
                            </div>
                        </article><article class="related-post">
                            <h3 class="related-post-title">
                                <a href="https://catatansoal.github.io/blog/adams-onis-treaty-what-the">Adams-Onís Treaty: What The US Promised Spain</a>
                            </h3>
                            <div class="meta">
                            	<time datetime="2025-08-05T21:36:54+00:00">Aug 5, 2025</time>
		                        <span class="view-count">
									45 views
		                        </span>
                            </div>
                        </article><article class="related-post">
                            <h3 class="related-post-title">
                                <a href="https://catatansoal.github.io/blog/prologue-writing-captivate-readers-from">Prologue Writing: Captivate Readers From Page One</a>
                            </h3>
                            <div class="meta">
                            	<time datetime="2025-08-04T04:01:43+00:00">Aug 4, 2025</time>
		                        <span class="view-count">
									49 views
		                        </span>
                            </div>
                        </article>
                    </aside>
                    <aside class="related-posts"></aside>
                </div>
            </div>
        </article>
        <a href="#" class="back-to-top" id="backToTop" title="Back to top">
        	<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-bar-up" viewBox="0 0 16 16">
			  <path fill-rule="evenodd" d="M3.646 11.854a.5.5 0 0 0 .708 0L8 8.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708M2.4 5.2c0 .22.18.4.4.4h10.4a.4.4 0 0 0 0-.8H2.8a.4.4 0 0 0-.4.4"/>
			</svg>
		</a>
    </main>
    <footer class="footer">
        <div class="container">
            <p>© 2025 ANABEL</p>
        </div>
    </footer>
    <script>
    	(() => {
            const navToggle = document.querySelector('.nav-toggle');
            const navMenu = document.querySelector('.nav-menu');
            const toggleMenu = () => {
                navMenu.classList.toggle('nav-menu-active');
                navToggle.classList.toggle('nav-toggle-active');
            };
            const backToTopHandler = (e) => {
                e.preventDefault();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };
            navToggle.addEventListener('click', toggleMenu);
            document.getElementById('backToTop').addEventListener('click', backToTopHandler);
            window.addEventListener('pagehide', () => {
                navToggle.removeEventListener('click', toggleMenu);
                document.getElementById('backToTop').removeEventListener('click', backToTopHandler);
            });
        })();
		(() => {
            window.addEventListener("DOMContentLoaded", (event) => {
                const ellHljs = document.createElement("script");
                ellHljs.setAttribute("src", "https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js");
                ellHljs.onload = () => {
                    hljs.highlightAll();
                };
                document.querySelector("body").append(ellHljs);
                const ellFont = document.createElement("link");
                ellFont.setAttribute("href", "https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css");
                ellFont.setAttribute("rel", "stylesheet");
                document.querySelector("head").append(ellFont);
                window.addEventListener('pagehide', () => {
                    // ellHljs.remove();
                    ellFont.remove();
                });

            });
        })();
    </script>
    
    
    
</body>
</html>